/* =========================================================
   TEMA: ANCIENT WOODS (Bosque Antiguo)
   ========================================================= */
.root {
    /* --- PALETA DE COLORES --- */
    -color-fondo: #333D29;                /* Verde Profundo */
    -color-blanco: rgba(88, 47, 14, 0.4); /* Caoba Transparente (Cards) */

    -color-primario: #936639;             /* Marrón Cuero */
    -color-primario-hover: #A68A64;       /* Marrón Arena */
    -color-primario-texto: #C2C5AA;       /* Beige Liquen */

    -color-texto-principal: #C2C5AA;      /* Beige Liquen */
    -color-texto-secundario: #A4AC86;     /* Oliva Claro */

    -color-acento: #656D4A;               /* Verde Musgo */
    -color-terciario: #7F4F24;            /* Marrón Roble */
    -color-error: #bc4749;                /* Rojo Arcilla */

    /* --- TIPOGRAFÍA GLOBAL --- */
    -fx-font-family: 'Segoe UI', sans-serif;
    -fx-font-size: 14px;
}

/* =========================================================
   ESTRUCTURA Y PANELES
   ========================================================= */
.panel-base {
    -fx-background-color: linear-gradient(to bottom right, #333D29, #414833);
}

.scroll-transparente { -fx-background-color: transparent; -fx-background: transparent; }
.scroll-transparente > .viewport { -fx-background-color: transparent; }

/* HEADER (Barra Superior) */
.header-panel {
    -fx-background-color: rgba(40, 48, 32, 0.95);
    -fx-padding: 15 30;
    -fx-effect: dropshadow(two-pass-box, rgba(0,0,0,0.4), 0, 4, 0, 0);
    -fx-border-color: transparent transparent rgba(101, 109, 74, 0.3) transparent;
    -fx-border-width: 0 0 1 0;
}
.header-logo {
    -fx-text-fill: #A68A64;
    -fx-font-size: 22px;
    -fx-font-weight: bold;
}
.header-user {
    -fx-text-fill: -color-texto-secundario;
    -fx-font-size: 14px;
}

/* SIDEBAR (Barra Lateral) */
.sidebar-container {
    -fx-min-width: 300px;
    -fx-max-width: 350px;
}

/* =========================================================
   TEXTOS Y TÍTULOS
   ========================================================= */
.label { -fx-text-fill: -color-texto-principal; }

.titulo {
    -fx-font-size: 28px;
    -fx-font-weight: bold;
    -fx-text-fill: #B6AD90;
    -fx-effect: dropshadow(one-pass-box, rgba(0,0,0,0.5), 0, 2, 0, 1);
}
.subtitulo {
    -fx-font-size: 15px;
    -fx-text-fill: -color-texto-secundario;
}
.subtitulo-seccion {
    -fx-font-weight: bold;
    -fx-text-fill: #A68A64;
}

/* Clases de Utilidad de Texto */
.texto-negrita { -fx-font-weight: bold; }
.texto-blanco { -fx-text-fill: -color-texto-principal; -fx-icon-color: -color-texto-principal; }
.texto-primario { -fx-text-fill: -color-primario; -fx-icon-color: -color-primario; }
.texto-secundario-bold { -fx-font-weight: bold; -fx-text-fill: -color-texto-secundario; -fx-icon-color: -color-texto-secundario;}
.texto-terciario { -fx-text-fill: -color-terciario; -fx-icon-color: -color-terciario;}
.texto-error { -fx-text-fill: -color-error; }

/* Tamaños de texto */
.texto-pequeno { -fx-font-size: 12px; }
.texto-mediano { -fx-font-size: 13px; }
.texto-mediano-plus { -fx-font-size: 14px; }
.texto-grande-18 { -fx-font-size: 18px; }
.texto-grande-20 { -fx-font-size: 20px; }

/* Textos Especiales (Tips y Unidades) */
.titulo-tip {
    -fx-font-weight: bold;
    -fx-font-size: 16px;
    -fx-text-fill: #B6AD90;
}
.texto-tip {
    -fx-text-fill: #C2C5AA;
    -fx-font-size: 14px;
}
.card-unidad {
    -fx-font-size: 14px;
    -fx-text-fill: -color-texto-secundario;
}
.label-formulario {
    -fx-font-weight: bold;
    -fx-text-fill: -color-texto-principal;
}
.padding-top-12 { -fx-padding: 12 0 0 0; }

/* =========================================================
   ICONOS (Ikonli / FontAwesome)
   ========================================================= */
/* Regla base para todos los iconos */
.ikonli-font-icon {
    -fx-icon-color: -color-texto-principal;
    -fx-fill: -color-texto-principal; /* Compatibilidad */
}

/* Iconos de Navegación */
.icono-navegacion {
    -fx-icon-color: -color-texto-secundario;
    -fx-fill: -color-texto-secundario;
}
.card-nav:hover .icono-navegacion {
    -fx-icon-color: -color-primario-hover; /* Se iluminan al pasar el ratón */
    -fx-fill: -color-primario-hover;
}

/* Iconos Específicos */
.icono-nivel { -fx-icon-color: #A68A64; -fx-icon-size: 38px; }
.icono-tip { -fx-icon-color: #A68A64; -fx-icon-size: 28px; }
.icono-gigante-extra { -fx-icon-size: 48px; -fx-icon-color: -color-acento; }
/* Mantenemos esta por compatibilidad con analisis.fxml antiguo */
.icono-gigante-34 { -fx-icon-size: 34px; }

/* =========================================================
   BOTONES
   ========================================================= */
.boton-primario {
    -fx-background-color: -color-primario;
    -fx-text-fill: #C2C5AA;
    -fx-background-radius: 6;
    -fx-font-weight: bold;
    -fx-cursor: hand;
    -fx-padding: 10 20;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.4), 5, 0, 0, 1);
    -fx-border-color: rgba(166, 138, 100, 0.2);
    -fx-border-radius: 6;
}
.boton-primario:hover {
    -fx-background-color: -color-primario-hover;
    -fx-text-fill: #333D29;
    -fx-scale-x: 1.02; -fx-scale-y: 1.02;
}
.boton-primario .ikonli-font-icon { -fx-icon-color: #C2C5AA; }
.boton-primario:hover .ikonli-font-icon { -fx-icon-color: #333D29; }

.boton-secundario {
    -fx-background-color: transparent;
    -fx-border-color: -color-texto-secundario;
    -fx-border-radius: 6;
    -fx-text-fill: -color-texto-secundario;
    -fx-cursor: hand;
    -fx-padding: 9 19;
}
.boton-secundario:hover {
    -fx-border-color: -color-primario;
    -fx-text-fill: -color-primario;
    -fx-background-color: rgba(147, 102, 57, 0.1);
}
.boton-secundario .ikonli-font-icon { -fx-icon-color: -color-texto-secundario; }
.boton-secundario:hover .ikonli-font-icon { -fx-icon-color: -color-primario; }

.boton-icon {
    -fx-background-color: transparent;
    -fx-text-fill: -color-texto-secundario;
    -fx-border-color: transparent;
    -fx-cursor: hand;
}
.boton-icon:hover {
    -fx-text-fill: #C2C5AA;
    -fx-background-color: rgba(164, 172, 134, 0.1);
}
.boton-peligro { -fx-text-fill: -color-error; }
.boton-peligro .ikonli-font-icon { -fx-icon-color: -color-error; }
.boton-peligro:hover { -fx-background-color: rgba(188, 71, 73, 0.1); }

/* --- CORRECCIÓN LOGIN: BOTÓN ENLACE --- */
.boton-enlace {
    -fx-background-color: transparent;
    -fx-text-fill: -color-texto-secundario;
    -fx-cursor: hand;
    -fx-font-size: 13px;
    -fx-border-color: transparent;
}
.boton-enlace:hover {
    -fx-text-fill: -color-primario-hover;
    -fx-underline: true;
}

/* =========================================================
   INPUTS (TextField, ComboBox, DatePicker)
   ========================================================= */
.text-field, .password-field, .combo-box, .text-field-moderno, .combo-box-moderno, .input-formulario {
    -fx-background-color: rgba(65, 72, 51, 0.6); /* Pino semitransparente */
    -fx-text-fill: -color-texto-principal;
    -fx-prompt-text-fill: rgba(182, 173, 144, 0.5);
    -fx-border-color: -color-terciario;
    -fx-border-radius: 6;
    -fx-background-radius: 6;
    -fx-padding: 8;
}

.text-field:focused, .combo-box:focused, .text-field-moderno:focused {
    -fx-border-color: -color-primario-hover;
    -fx-effect: dropshadow(three-pass-box, rgba(166, 138, 100, 0.3), 8, 0, 0, 0);
}

/* --- CORRECCIÓN COMBOBOX: LIST CELL INTERNA --- */
/* Esto hace que el "botón" del combo no sea blanco */
.combo-box .list-cell, .combo-box-moderno .list-cell {
    -fx-text-fill: -color-texto-principal;
    -fx-background-color: transparent; /* CLAVE PARA QUE NO SALGA BLANCO */
}

/* El desplegable (Popup) */
.combo-box .list-view, .combo-box-moderno .list-view {
    -fx-background-color: #283023;
    -fx-border-color: -color-primario;
    -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.5), 10, 0, 0, 5);
}
.combo-box .list-view .list-cell:hover, .combo-box .list-view .list-cell:filled:selected {
    -fx-background-color: rgba(166, 138, 100, 0.2);
    -fx-text-fill: -color-primario;
}

/* DatePicker */
.date-picker { -fx-background-color: transparent; }
.date-picker .arrow-button { -fx-background-color: transparent; -fx-cursor: hand; }
.date-picker .arrow-button .arrow { -fx-background-color: -color-texto-secundario; }
.date-picker-popup { -fx-background-color: -color-fondo; -fx-border-color: -color-terciario; }
.date-picker-popup .month-year-pane { -fx-background-color: rgba(40, 48, 32, 0.95); }
.date-picker-popup .day-cell { -fx-background-color: -color-fondo; -fx-text-fill: -color-texto-principal; }
.date-picker-popup .day-cell:hover { -fx-background-color: -color-acento; }
.date-picker-popup .selected { -fx-background-color: -color-primario; -fx-text-fill: #333D29; }

/* =========================================================
   CHECKBOX & RADIO BUTTONS
   ========================================================= */
.filtro-checkbox, .check-box {
    -fx-text-fill: -color-texto-secundario;
    -fx-font-size: 13px;
    -fx-cursor: hand;
    -fx-padding: 8 12;
    -fx-background-color: rgba(166, 138, 100, 0.05);
    -fx-background-radius: 6;
    -fx-alignment: CENTER-LEFT;
}
.filtro-checkbox:hover {
    -fx-background-color: rgba(166, 138, 100, 0.15);
    -fx-text-fill: -color-primario;
}
.filtro-checkbox:selected {
    -fx-background-color: rgba(101, 109, 74, 0.2);
    -fx-border-color: -color-primario;
    -fx-text-fill: -color-texto-principal;
    -fx-font-weight: bold;
}
.filtro-checkbox .box, .check-box .box {
    -fx-background-color: transparent;
    -fx-border-color: -color-texto-secundario;
    -fx-border-radius: 3;
}
.filtro-checkbox:selected .mark, .check-box:selected .mark {
    -fx-background-color: -color-primario;
}
.filtro-checkbox:selected .ikonli-font-icon { -fx-icon-color: -color-primario; }

/* Radio Button */
.radio-moderno {
    -fx-text-fill: -color-texto-secundario;
    -fx-cursor: hand;
}
.radio-moderno:selected { -fx-text-fill: -color-primario; }
.radio-moderno .radio {
    -fx-background-color: rgba(255,255,255,0.1);
    -fx-border-color: -color-texto-secundario;
}
.radio-moderno:selected .radio .dot { -fx-background-color: -color-primario; }

/* =========================================================
   TARJETAS Y CONTENEDORES
   ========================================================= */
.card {
    -fx-background-color: -color-blanco;
    -fx-background-radius: 12;
    -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.3), 10, 0, 0, 0);
    -fx-padding: 25;
    -fx-border-color: rgba(166, 138, 100, 0.05);
    -fx-border-radius: 12;
}
.card-titulo {
    -fx-font-size: 13px;
    -fx-text-fill: #A68A64;
    -fx-font-weight: bold;
    -fx-text-transform: uppercase;
}
.card-numero { -fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #C2C5AA; }
.card-numero-destacado { -fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: -color-primario-hover; }

.card-azul {
    -fx-background-color: linear-gradient(to right, rgba(101, 109, 74, 0.5), rgba(65, 72, 51, 0.7));
    -fx-background-radius: 12;
    -fx-padding: 20;
    -fx-border-color: -color-primario;
    -fx-border-width: 0 0 0 4;
}

/* Tarjetas Navegación (Botones grandes Sidebar) */
.card-nav {
    -fx-background-color: rgba(88, 47, 14, 0.3);
    -fx-background-radius: 8;
    -fx-cursor: hand;
    -fx-padding: 15;
    -fx-border-width: 0 0 0 4;
    -fx-border-color: rgba(127, 79, 36, 0.3);
}
.card-nav:hover {
    -fx-background-color: rgba(88, 47, 14, 0.5);
    -fx-border-color: -color-primario-hover;
}
.card-nav-titulo { -fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #C2C5AA; }
.card-nav-desc { -fx-font-size: 13px; -fx-text-fill: rgba(182, 173, 144, 0.7); }

/* Colores de Borde específicos para cada botón de navegación */
.nav-huella:hover { -fx-border-color: transparent transparent transparent -color-primario; }
.nav-habitos:hover { -fx-border-color: transparent transparent transparent -color-acento; }
.nav-analisis:hover { -fx-border-color: transparent transparent transparent -color-texto-principal; }

/* Tarjetas de Items (Huellas/Hábitos) */
.item-card {
    -fx-background-color: rgba(88, 47, 14, 0.4);
    -fx-background-radius: 15;
    -fx-border-color: rgba(166, 138, 100, 0.1);
    -fx-border-radius: 15;
    -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 5, 0, 0, 2);
    -fx-cursor: hand;
    -fx-padding: 15;
    -fx-min-width: 200px;
    -fx-max-width: 200px;
}
.item-card:hover {
    -fx-background-color: rgba(88, 47, 14, 0.6);
    -fx-translate-y: -3;
    -fx-border-color: -color-primario;
    -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.4), 10, 0, 0, 5);
}
.item-card-titulo { -fx-text-fill: -color-primario-hover; -fx-font-weight: bold; -fx-font-size: 14px; }
.item-card-valor { -fx-text-fill: -color-texto-principal; -fx-font-size: 24px; -fx-font-weight: bold; }
.item-card-fecha { -fx-text-fill: -color-texto-secundario; -fx-font-size: 11px; -fx-font-style: italic; }
.item-card-icono { -fx-icon-color: -color-primario; -fx-icon-size: 32px; }

/* =========================================================
   MENÚ CONTEXTUAL (Click Derecho)
   ========================================================= */
.context-menu {
    -fx-background-color: rgba(40, 48, 35, 0.95);
    -fx-background-radius: 10;
    -fx-border-color: rgba(166, 138, 100, 0.3);
    -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.6), 15, 0, 0, 8);
    -fx-padding: 6 0 6 0;
}
.menu-item { -fx-background-color: transparent; -fx-padding: 10 20; }
.menu-item .label { -fx-text-fill: #FEFAE0; -fx-font-size: 13px; }
.menu-item .ikonli-font-icon { -fx-icon-color: #FEFAE0; }

.menu-item:focused { -fx-background-color: rgba(166, 138, 100, 0.15); -fx-cursor: hand; }
.menu-item:focused .label { -fx-text-fill: #DDA15E; -fx-font-weight: bold; }
.menu-item:focused .ikonli-font-icon { -fx-icon-color: #DDA15E; }

/* =========================================================
   OTROS ELEMENTOS (Gráficos, Progreso, Etc)
   ========================================================= */
/* Barra Progreso */
.barra-progreso .track { -fx-background-color: rgba(164, 172, 134, 0.1); -fx-background-radius: 10; }
.barra-progreso .bar { -fx-background-color: -color-primario; -fx-background-radius: 10; }

/* Gráficos */
.chart-plot-background { -fx-background-color: transparent; }
.axis { -fx-tick-label-fill: -color-texto-secundario; }
.default-color0.chart-bar { -fx-bar-fill: -color-primario; }
.default-color1.chart-bar { -fx-bar-fill: -color-acento; }
.chart-pie-label { -fx-fill: -color-texto-principal; }
/* Colores PieChart */
.default-color0.chart-pie { -fx-pie-color: #936639; } /* Cuero */
.default-color1.chart-pie { -fx-pie-color: #656D4A; } /* Musgo */
.default-color2.chart-pie { -fx-pie-color: #A68A64; } /* Arena */
.default-color3.chart-pie { -fx-pie-color: #414833; } /* Pino */
.default-color4.chart-pie { -fx-pie-color: #B6AD90; } /* Piedra */

/* Info Box */
.fondo-info-suave {
    -fx-background-color: rgba(194, 197, 170, 0.05);
    -fx-background-radius: 20;
    -fx-padding: 10 20;
}
.etiqueta-unidad-detalle {
    -fx-text-fill: #333D29;
    -fx-font-weight: bold;
    -fx-background-color: #C2C5AA;
    -fx-padding: 8 12;
    -fx-background-radius: 4;
}
.separador-suave .line { -fx-border-color: rgba(166, 138, 100, 0.3); -fx-border-width: 1; }